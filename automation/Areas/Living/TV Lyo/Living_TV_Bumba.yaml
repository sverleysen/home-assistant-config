- alias: TV Living Bumba
  initial_state: 'on'
  trigger:
    - platform: event
      event_type: deconz_event
      event_data:
        id: tv_living
        event: 2001 # hold
    - platform: event
      event_type: deconz_event
      event_data:
        id: tv_living
        event: 2002 # short
  condition:
    condition: and
    conditions:
      - condition: state
        entity_id: input_boolean.living_tv_lyo
        state: 'on'
      - condition: state
        entity_id: media_player.living_room_tv
        state: 'on'
  action:
    - service: media_extractor.play_media
      data:
        media_content_type: video/youtube
      data_template:
        entity_id: >-
          {% if is_state("input_select.chromecast_tv_lyo", "Living") %} media_player.chromecast_living
          {% elif is_state("input_select.chromecast_tv_lyo", "Slaapkamer") %} media_player.chromecast_slaapkamer
          {% elif is_state("input_select.chromecast_tv_lyo", "Zolder") %} media_player.attic_tv
          {% elif is_state("input_select.chromecast_tv_lyo", "Keuken") %} media_player.google_keuken
          {% endif %}
        media_content_id: >-
          {{ [
            "https://www.youtube.com/watch?v=gScqV-By3Xc&t=1s",
            "https://www.youtube.com/watch?v=abfLZW5rqDQ&t=1s",
            "https://www.youtube.com/watch?v=FLuC2y4DczA&t=1s",
            "https://www.youtube.com/watch?v=OOpXpxJjtrw&t=1s",
            "https://www.youtube.com/watch?v=v7nzdy7ot5M&t=1s",
            "https://www.youtube.com/watch?v=C31E5BJuIXI&t=1s"
            ] | random 
          }}